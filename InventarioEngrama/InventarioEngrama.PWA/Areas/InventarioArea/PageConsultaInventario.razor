@inherits EngramaPage


@page "/PageConsultaInventario"
@using InventarioEngrama.Share.Objetos.Inventario


<MudCard>
	<MudCardHeader>
		<CardHeaderContent>
			<MudText Typo="Typo.h6">Inventario</MudText>
		</CardHeaderContent>

	</MudCardHeader>
	<MudCardContent>
        
		<MudTable Items="@Data.LstArticulosInventario"
				  T="@InventarioArticulos"
				  Dense="@true"
				  Hover="true"
				  Filter="new Func<InventarioArticulos,bool>(FilterFunc1)">
			<ToolBarContent>
				<MudText Typo="Typo.h6">Tabla de Inventario</MudText>
				<MudSpacer />
				<MudTextField @bind-Value="searchStringFiltro" Placeholder="Search" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
			</ToolBarContent>
			<HeaderContent>
				<MudTh>IdInventaro</MudTh>
				<MudTh>IdArtculo</MudTh>
				<MudTh>smCantidad</MudTh>
				<MudTh>nvchNombreArticulo</MudTh>
				<MudTh>Codigo</MudTh>
				<MudTh>PrecioCopra</MudTh>
				<MudTh>PrecioVenta</MudTh>
				<MudTh>IdProveedor</MudTh>
				<MudTh>nvchNombreProveedor</MudTh>
				<MudTh>Telefono</MudTh>
				<MudTh>nvchDireccion</MudTh>
			</HeaderContent>
			<RowTemplate>
				<MudTd DataLabel="iIdInventario">@context.iIdInventario</MudTd>
				<MudTd DataLabel="iIdArticulo">@context.iIdArticulo</MudTd>
				<MudTd DataLabel="smCantidad">@context.smCantidad</MudTd>
				<MudTd DataLabel="nvchNombreArticulo">@context.Articulo.nvchNombre</MudTd>
				<MudTd DataLabel="vchCodigo">@context.Articulo.vchCodigo</MudTd>
				<MudTd DataLabel="mPrecioCompra">@context.Articulo.mPrecioCompra</MudTd>
				<MudTd DataLabel="mPrecioVenta">@context.Articulo.mPrecioVenta</MudTd>
				<MudTd DataLabel="iIdProveedor">@context.Articulo.iIdProveedor</MudTd>
				<MudTd DataLabel="nvchNombreProveedor">@context.Articulo.Proveedor.nvchNombre</MudTd>
				<MudTd DataLabel="vchTelefono">@context.Articulo.Proveedor.vchTelefono</MudTd>
				<MudTd DataLabel="nvchDireccion">@context.Articulo.Proveedor.nvchDireccion</MudTd>
			</RowTemplate>
			<PagerContent>
				<MudTablePager />
			</PagerContent>
		</MudTable>
		


	</MudCardContent>
</MudCard>

@code {
	private string searchStringFiltro = "";
	private bool FilterFunc1(InventarioArticulos element) => FilterFunc(element, searchStringFiltro);
	private bool FilterFunc(InventarioArticulos element, string searchString)
	{
		if (string.IsNullOrWhiteSpace(searchString))
			return true;
		if (element.Articulo.nvchNombre.Contains(searchString, StringComparison.OrdinalIgnoreCase)) // Agrega el campo por el caul realizar el filtro
			return true;
		return false;
	}
		}
